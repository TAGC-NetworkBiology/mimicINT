
# Run folder tree view
# ====================

Descriptions of the file / directory and additional information 
are provided between [brackets].
Input and output filenames used in the snakefile are provided 
between slashs (/).

..
│
├── docs
│   ├── manual.md [General documentation of the pipeline]
│   ├── run_folder.txt [Tree view and description of a Run folder content]
│   ├── mimicint_snakefile.png [Expected graph of the workflow if all rules are run]
│   ├── mimicint_snakefile_dag.png [DAG of the workflow, generated by snakemake]
│   └── mimicint_snakefile_rulegraph.png [Rule graph of the workflow, generated by snakemake]
│
├── ../common/Docker [See documentation of common resources for more information]
│
├── workflow
│   ├── mimicint_interpro_snakefile [Snakefile]
│   └── run_mimicint_InterPro.sh  [Run the workflow]
│
├── config
│   ├── config.yaml [Workflow configuration file]
│   └── config_cluster.json [Cluster configuration file]
│
├── script
│   └── run_slimprob.sh
│
├── src [See documentation of the scripts for more information]
│   └── fr
│   └── tagc
│       └── mimicint
│           ├── compute_query_disorder.py
│           ├── ddi_pfam_to_interpro.py
│           ├── elm_domain_interactions_to_interpro.py
│           ├── enrichment_gprofiler.R
│           ├── get_target_prot_with_potential_interactions.py
│           ├── interaction_inference.py
│           ├── match_query_sqce_names.py
│           ├── parsing_scripts
│           │   ├── aggregate_slimprob_list.py
│           │   ├── aggregate_slimprob_res.py
│           │   ├── extract_binary_interactions.sh
│           │   ├── filter_dmi_on_domain_score.py
│           │   ├── filter_parsed_elm_on_slim_pval_v2.py
│           │   ├── interaction_all_to_json.py
│           │   ├── parser3did.py
│           │   ├── parserELM.py
│           │   ├── parser_res_interproscan.py
│           │   ├── parser_res_slimprob.py
│           │   ├── query_proteins_features_to_json.py
│           │   └── split_fasta_file.py
│           ├── simplify_sqce_names.py
│           └── util
│               └── option
│                   └── OptionManager.py
│
├── input [NB: All folders and file names of this directory may 
│   │          be set in the config file]
│   ├── 3did [Input files from 3did]
│   │   └── 3did_flat [3did_flat file]                                /ddi_template_file/
│   ├── elm [Input files from ELM]
│   │   ├── elm_classes.tsv [ELM classes]                             /elm_classes_file/
│   │   ├── elm_instances.tsv [ELM instances]                         /elm_instances_file/
│   │   └── elm_interaction_domains.tsv [ELM binding domains]         /elm_interaction_domains_file/
│   ├── sequences
│   │   └── query_sequences.fasta [query sequences]                   /query_fasta_file/
│   ├── InterPro
│   │   ├── target_interpro_annotations.fasta [domains in target 
│   │   │                                      sequences]             /target_interpro_annotations_file/
│   │   └── pfam_interpro_mapping.tsv         [Mapping of Pfam
│   │                                          entries to InterPro]   /pfam_interpro_mapping_file/
│   ├── slim_probability
│   │   └── slim_probabilities.tsv [SLiM probabilities]               /slim_pvalues_v2_file/
│   ├── domain_scores
│   │   └── domain_scores.tsv [Domain scores]                         /domain_score_file/
│   └── orthodb
│       └── orthodb.fasta [ortholog sequences]                        /orthodb_fasta_file/
│
├── output [NB: All folders of this directory may 
│   │           be set in the config file]
│   ├── 0_parse_3did
│   │   ├── parsed_3did.txt                                           /ddi_template_parsed_file/
│   │   └── parsed_3did_interpro.txt                                  /ddi_template_interpro_file/
│   ├── 1_parse_elm
│   │   ├── elm_domain_interactions_interpro.tsv                      /elm_interaction_domains_interpro_file/
│   │   ├── parsed_elm_classes.txt                                    /elm_motifs_parsed_file/
│   │   ├── parsed_elm_summary.tsv                                    /elm_summary_parsed_file/
│   │   ├── elm_motifs_filtered.txt                                   /elm_motifs_filtered_file/ (OPTIONAL FILE)
│   │   └── elm_motifs_selected.tsv                                   /elm_motifs_selected_file/ (OPTIONAL FILE)
│   ├── 2_target_with_dom_in_templates                                /2_target_with_dom_in_templates/
│   │   └── target_with_domains_with_templates_of_inter.tsv           /target_with_domains_with_templates_of_inter/
│   ├── 3_detect_domain_query 
│   │   ├── query_domain_interpro.tsv                                 /query_domain_file/
│   │   └── parsed_query_domain_interpro.tsv                          /query_domain_parsed_file/
│   ├── 4_splitted_query                                              /splitted_query/
│   │   └── {query_names}_{file_suffix}.fasta                         /splitted_query_fasta_file/
│   ├── 4_slim_detect
│   │   ├── query_slim_slimprob.tsv                                   /query_slim_slimprob_res/
│   │   ├── query_slim_slimprob.occ.tsv                               /query_slim_slimprob_list/
│   │   ├── parsed_query_slim_slimprob.tsv                            /query_slim_slimprob_parsed_file/
│   │   ├── aggregate_slimprob_iuscores.log                           /aggregate_slimprob_iuscores_log/
│   │   ├── aggregate_slimprob_list.log                               /aggregate_slimprob_list_log/
│   │   ├── aggregate_slimprob_res.log                                /aggregate_slimprob_res_log/
│   │   ├── query_seqnames_match.tsv                                  /query_seqnames_match_file/
│   │   ├── disorder_propensities.tsv                                 /query_disorder_propensity_file/
│   │   ├── iuscore                                                   /iupred_score_folder/
│   │   │   └── {sqce_name}.iupred.txt
│   │   └── {sqce_name}_{file_suffix}                                 /splitted_slim_detect/
│   │       ├── query_{sqce_name}_{file_suffix}_slim_slimprob.tsv     /splitted_query_slim_slimprob_res/
│   │       ├── query_{sqce_name}_{file_suffix}_slim_slimprob.occ.tsv /splitted_query_slim_slimprob_list/
│   │       ├── query_{sqce_name}_{file_suffix}_slimprob.log          /splitted_query_slim_slimprob_log_file/
│   │       └── SLiMProb_{sqce_name}_{file_suffix}                    /splitted_query_slim_slimprob_out_dir/
│   ├── 5_interactions
│   │   ├── inferred_dmi_interactions.tsv                             /dmi_interaction_file/
│   │   ├── inferred_ddi_interactions.tsv                             /ddi_interaction_file/
│   │   ├── filtered_domain_score.tsv                                 /filtered_domain_score_file/ (OPTIONAL FILE)
│   │   ├── filtered_dmi_interactions.tsv                             /filtered_dmi_on_ds_interaction_file/ (OPTIONAL FILE)
│   │   ├── inferred_binary_interactions.ncol                         /binary_interactions_file/
│   │   ├── inferred_all_interactions.tsv                             /inferred_all_interactions_file/
│   │   └── all_interactions.json                                     /json_interaction_file/
│   ├── 6_summary
│   │   └── query_proteins_features.json                              /json_query_proteins_features_file/
│   ├── 7_renamed_sequences [Optional]
│   │   ├── sequence_names.tsv                                        /sequence_names_match_file/
│   │   ├── query_domains.tsv                                         /renamed_seq_query_domain_parsed_file/
│   │   ├── query_slims.tsv                                           /renamed_seq_query_slim_slimprob_parsed_file/
│   │   ├── query_disorder_prop.tsv                                   /renamed_seq_query_disorder_propensity_file/
│   │   ├── dd_interactions.tsv                                       /renamed_seq_ddi_interaction_file/
│   │   ├── dm_interactions.tsv                                       /renamed_seq_dmi_interaction_file/
│   │   ├── all_interactions.tsv                                      /renamed_seq_inferred_all_interactions_file/
│   │   ├── binary_interactions.ncol                                  /renamed_seq_binary_interactions_file/
│   │   ├── all_interactions.json                                     /renamed_json_interaction_file/
│   │   └── query_features.json                                       /renamed_seq_json_query_features_file/
│   └── 8_gprofiler
│       ├── unique_target_interactors.txt                             /unique_target_interactors_file/
│       ├── index.html                                                /gprofiler_enrichment_html_file/
│       └── gprofiler_result.tsv                                      /gprofiler_enrichment_result_file/
│
├── log [Contains log files as defined by the user 
│   │    or the cluster configuration parameters]
│   └── parameters.tsv [List of parameters set by the user or 
│                       automatically defined]
│
├── job_status [Contains log files created at each start and end of a job]
│
├── ../tools [Contains IUPred executables necessary to run SLiMProb]
├── ../.interproscan-5 [Temporary folder generated by Interproscan]
├── ../temp [Temporary folder generated by Interproscan]
├── ../.snakemake [Temporary folder generated by Snakemake]
│
└── readme.txt [General information about the run folder and the commands used]



# Input files
# ===========

Resources to get / input files to generate.

- ELM database (http://elm.eu.org/searchdb.html)
    - ELM classes (http://elm.eu.org/elms/elms_index.tsv)
    - ELM instances (elm.eu.org/instances.tsv?q=None&taxon=Homo%20sapiens&instance_logic=true%20positive)
    - Binding domains (http://elm.eu.org/interactions/as_tsv)
    
- 3did (https://3did.irbbarcelona.org/)
    - 3did flat file (https://3did.irbbarcelona.org/download/current/3did_flat.gz)
    
- InterPro
    - File containing all InterPro annotations for the target
    - File containing all cross-references of Pfam and InterPro accessions
    
- SLiM p-values (Optional): output of compute_slim_probability_v2 workflow

- Domain scores (Optional): provided by A. Zanzoni
